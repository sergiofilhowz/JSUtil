/* 
 * JSUtil 0.0.2 is under MIT License (c) 2014 SÃ©rgio Marcelino 
 * 
 * Author: http://sergio.filho.org 
 * More details on http://github.com/sergiofilhow/JSUtil 
 * 
 */ 

function Slider(a,b,c){"use strict";if(this.el=a,this.paginator=a.find(".jsutil-paginator"),this.previousArrow=a.find(".jsutil-slider-previous-arrow"),this.nextArrow=a.find(".jsutil-slider-next-arrow"),this.paginatorItems=[],this.currentItem=void 0,0===this.paginator.length)throw new Error("The slider needs a paginator with class jsutil-paginator");this.pageChangeHandler=b,void 0!==c&&c.call(this);var d,e,f=this;this.paginator.find(".jsutil-paginator-item").each(function(a,b){0===a&&(d=b),void 0!==e&&(e.$nextItem=b),$(b).click(function(a){f.itemClickHandler(a)}),b.$previousItem=e,f.paginatorItems.push(b),e=b}),void 0!==d&&(this.pageChange($(d)),d.$previousItem=e,d===e&&(d.$nextItem=d)),void 0!==e&&(e.$nextItem=d),this.previousArrow.click(function(a){f.previousArrowClickHandler(a)}),this.nextArrow.click(function(a){f.nextArrowClickHandler(a)})}function Stepper(a,b){"use strict";this.HORIZONTAL="horizontal",this.VERTICAL="vertical",this.el=a,this.body=a.find(".jsutil-stepper-body"),this.previousArrow=a.find(".jsutil-stepper-previous-arrow"),this.nextArrow=a.find(".jsutil-stepper-next-arrow"),this.orientation=b.orientation||this.HORIZONTAL,this.stepSize=b.stepSize,this.duration=b.duration,this.tolerance=b.tolerante,this.stepWidth=b.stepLength;{var c=this,d=this.body.children().first();this.orientation===this.HORIZONTAL?this.body.get(0).scrollWidth:this.body.get(0).scrollHeight,this.orientation===this.HORIZONTAL?this.body.width():this.body.height()}void 0===this.stepWidth&&(this.stepWidth=d.width()+parseInt(d.css("margin-right").replace("px",""),10)),this.calculateArrows(),this.previousArrow.click(function(a){c.previousArrowClickHandler(a)}),this.nextArrow.click(function(a){c.nextArrowClickHandler(a)})}$.fn.hide=function(){"use strict";this.each(function(a,b){var c=$(b);c.hasClass("hidden")||(c.addClass("hidden"),c.trigger("hide"))})},$.fn.show=function(){"use strict";this.each(function(a,b){var c=$(b);c.hasClass("hidden")&&(c.removeClass("hidden"),c.trigger("show"))})};var JSUtil={defaults:function(a,b){"use strict";var c;a=a||{};for(c in b)void 0===a[c]&&(a[c]=b[c]);return a}};$.fn.customScroll=function(a){"use strict";var b={fade:!1,resizable:!0,scrollClass:"jsutil-scroll",pinClass:"jsutil-pin"};a=JSUtil.defaults(a,b);var c=function(b){var c=b.targetEl,d=$(c),e=c.scrollPin,f=(d.height(),c.clientHeight/c.scrollHeight*100);a.resizable&&e.css("height",f+"%")},d=function(a){var b=a.currentTarget,d=($(b),$(b.scrollBar));b.clientHeight>=b.scrollHeight?d.hide():d.show(),c(b.scrollBar)};this.each(function(b,d){var e=$(d),f=$("<div></div>"),g=$("<div></div>");f.addClass(a.scrollClass),g.addClass(a.pinClass),d.clientHeight>=d.scrollHeight&&f.hide(),f.targetEl=d,f.append(g),e.parent().addClass("jsutil-no-overflow"),e.addClass("jsutil-scrollable"),e.append(f),d.scrollBar=f,d.scrollPin=g,c(f),a.resizable||g.css("margin-top",g.height()/-2),a.fade&&(g.animate({opacity:0}),e.hover(function(a){var b=a.currentTarget,c=b.scrollPin;c.stop().animate({opacity:1})},function(a){var b=a.currentTarget,c=b.scrollPin;c.stop().animate({opacity:0})})),g.enableDrag(),g.on("drag",function(a,b){var c,h,i=f.offset().top,j=(i+f.height(),g.offset().top+g.height()/2,b.pageY),k=(j-i)/f.height()*100;0>=k?e.scrollTop(0):k>=100?e.scrollTop(d.scrollHeight):(c=d.scrollHeight-d.clientHeight,h=k*c/100,e.scrollTop(h))}),$(window).resize(function(){d.clientHeight>=d.scrollHeight?f.hide():f.show(),c(f)})}),this.on("scroll",function(b){var c=b.currentTarget,d=c.scrollPin,e=c.scrollBar,f=c.scrollHeight-c.clientHeight,g=c.scrollHeight,h=a.resizable?c.scrollTop/g*100:c.scrollTop/f*100;e.css("margin-top",c.scrollTop),d.css("top",h+"%")}),this.on("resize",d),this.on("show",d),this.on("hide",function(a){var b=a.currentTarget,c=b.scrollBar,d=$(c);d.hide()})},$.scrollshowElements=[],$.fn.scrollshow=function(a){"use strict";this.each(function(b,c){$.scrollshowElements.push({el:c,trigger:a})})},$(document).ready(function(){"use strict";$(window).scroll(function(a){var b,c,d=$(a.currentTarget),e=$.scrollshowElements.length;for(b=0;e>b;b+=1)if(c=$.scrollshowElements[b],d.scrollTop()+window.innerHeight>$(c.el).offset().top){$.scrollshowElements.splice(b,1),c.trigger(c.el);break}})}),Slider.prototype.previousArrowClickHandler=function(a){"use strict";this.el.trigger("previous-arrow-click",[a.currentTarget]),this.pageChange($(this.currentItem.$previousItem))},Slider.prototype.nextArrowClickHandler=function(a){"use strict";this.el.trigger("next-arrow-click",[a.currentTarget]),this.pageChange($(this.currentItem.$nextItem))},Slider.prototype.pageChange=function(a){"use strict";this.el.trigger("page-change",[this.currentItem,a.get(0)]),this.pageChangeHandler.call(this,this.currentItem,a),this.currentItem=a.get(0)},Slider.prototype.itemClickHandler=function(a){"use strict";this.el.trigger("paginator-item-click",[a.currentTarget]),a.currentTarget!==this.currentItem&&this.pageChange($(a.currentTarget))},$.prototype.slider=function(a,b){"use strict";var c=[];return this.each(function(d,e){c.push(new Slider($(e),a,b))}),c},Stepper.prototype.previousArrowClickHandler=function(a){"use strict";this.el.trigger("previous-arrow-click",[a,this]),this.performStep(!0)},Stepper.prototype.nextArrowClickHandler=function(a){"use strict";this.el.trigger("next-arrow-click",[a,this]),this.performStep(!1)},Stepper.prototype.performStep=function(a){"use strict";var b=this.orientation===this.HORIZONTAL?"scrollLeft":"scrollTop",c=this.body[b](),d=this.orientation===this.HORIZONTAL?this.body.get(0).scrollWidth-this.body.width():this.body.get(0).scrollHeight-this.body.height(),e={},f=this;c=a?c-this.stepSize*this.stepWidth:c+this.stepSize*this.stepWidth,c=c<this.tolerance?0:c,c=c>d-this.tolerance?d:c,e[b]=c,this.body.stop().animate(e,this.duration,function(){f.calculateArrows()})},Stepper.prototype.calculateArrows=function(){"use strict";var a=this.orientation===this.HORIZONTAL?"scrollLeft":"scrollTop",b=this.body[a](),c=this.orientation===this.HORIZONTAL?this.body.get(0).scrollWidth-this.body.width():this.body.get(0).scrollHeight-this.body.height();0===b?this.el.removeClass("jsutil-prev-available"):this.el.addClass("jsutil-prev-available"),b===c?this.el.removeClass("jsutil-next-available"):this.el.addClass("jsutil-next-available")},$.prototype.stepper=function(a){"use strict";var b=[],c={stepSize:1,duration:500,tolerante:20,stepLength:void 0};return a=JSUtil.defaults(a,c),this.each(function(c,d){var e=new Stepper($(d),a);d.JSUtilStepper=e,b.push(e)}),b},$.prototype.getStepper=function(){"use strict";return this.get(0).JSUtilStepper},$.fn.enableSwipe=function(a){"use strict";var b={tolerance:100};a=JSUtil.defaults(a,b);var c="ontouchstart"in window,d=c?"touchstart":"mousedown",e=c?"touchmove":"mousemove",f=c?"touchend":"mouseup";this.on(d,function(a){var b=c?a.originalEvent.pageX:a.pageX,d=c?a.originalEvent.pageY:a.pageY;return a.currentTarget.mouseDownX=b,a.currentTarget.mouseDownY=d,c?void 0:(a.preventDefault(),a.stopPropagation(),!1)}),this.on(e,function(a){return c?(a.currentTarget.lastPageX=a.originalEvent.pageX,void(a.currentTarget.lastPageY=a.originalEvent.pageY)):(a.preventDefault(),a.stopPropagation(),!1)}),this.on(f,function(b){var d=$(b.currentTarget),e=c?b.currentTarget.lastPageX:b.pageX,f=c?b.currentTarget.lastPageY:b.pageY,g=b.currentTarget.mouseDownX,h=b.currentTarget.mouseDownY;return b.currentTarget.mouseDownX=void 0,b.currentTarget.mouseDownY=void 0,h+a.tolerance<f?d.trigger("swipedown"):h-a.tolerance>f&&d.trigger("swipeup"),g+a.tolerance<e?d.trigger("swiperight"):g-a.tolerance>e&&d.trigger("swipeleft"),c?void 0:(b.preventDefault(),b.stopPropagation(),!1)})},$.fn.enableDrag=function(){"use strict";var a=this,b="ontouchstart"in window,c=b?"touchstart":"mousedown",d=b?"touchmove":"mousemove",e=b?"touchend":"mouseup",f=function(b){var c=$(a);return c.trigger("drag",{pageX:b.originalEvent.pageX,pageY:b.originalEvent.pageY}),b.preventDefault(),b.stopPropagation(),!1};this.on(c,function(a){return $("body").bind(d,f),$("body").one(e,function(){$("body").unbind(d,f)}),b?void 0:(a.preventDefault(),a.stopPropagation(),!1)})};